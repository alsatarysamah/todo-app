(this["webpackJsonptodo-app"]=this["webpackJsonptodo-app"]||[]).push([[0],{241:function(e,t,n){},254:function(e,t){},257:function(e,t){},268:function(e,t){},270:function(e,t){},281:function(e,t){},283:function(e,t){},311:function(e,t){},313:function(e,t){},314:function(e,t){},319:function(e,t){},321:function(e,t){},340:function(e,t){},352:function(e,t){},355:function(e,t){},390:function(e,t,n){},391:function(e,t,n){},392:function(e,t,n){},393:function(e,t,n){"use strict";n.r(t);var c=n(0),o=n.n(c),i=n(165),a=n.n(i),s=(n(241),n(166)),l=n(167),r=n(168),j=n(175),u=n(5),b=n(47),d=n(6),O=n(61),h=n(91),p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(c.useState)({}),o=Object(d.a)(n,2),i=o[0],a=o[1],s=function(t){t.preventDefault(),e(i)},l=function(e){e.persist();var t=e.target,n=t.name,c=t.value;parseInt(c)&&(c=parseInt(c)),a((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(O.a)({},n,c))}))};return Object(c.useEffect)((function(){a(t)}),[t]),{handleChange:l,handleSubmit:s,values:i}};function f(e,t){var n=JSON.stringify(t);localStorage.setItem(e,n),console.log(n),console.log("saved")}var x=n(1),m=o.a.createContext();function g(e){var t=Object(c.useState)(2),n=Object(d.a)(t,2),o=n[0],i=n[1],a=Object(c.useState)(!0),s=Object(d.a)(a,2),l={count:o,sortField:"string",showCompleted:s[0],setCount:i,setShowCompleted:s[1]};return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(m.Provider,{value:l,children:e.children})})}var v=n(400),C=n(399),S=n(92),k=n(169),y=n(29),I=n.n(y),w=n(170),F=n.n(w),D=n(171),N=n.n(D),T=n(172),A=n.n(T),L=o.a.createContext();function P(e){var t=Object(c.useState)(!1),n=Object(d.a)(t,2),o=n[0],i=n[1],a=Object(c.useState)({}),s=Object(d.a)(a,2),l=s[0],r=s[1],j=function(){var e=Object(k.a)(Object(S.a)().mark((function e(t,n){var c;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.post("https://ms-book-shop.herokuapp.com/signin").set("authorization","Basic ".concat(A.a.encode("".concat(t,":").concat(n))));case 2:c=e.sent,console.log(c.body),u(c.body.user);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),u=function(e){if(e.token){var t=N.a.decode(e.token);console.log("username >>>> ",t),i(!0),r(e),I.a.save("token",e.token),I.a.save("username",e.username),I.a.save("actions",e.actions),console.log({loggedIn:o})}else i(!1),r({})},b={loggedIn:o,user:l,can:function(e){var t;return null===l||void 0===l||null===(t=l.actions)||void 0===t?void 0:t.includes(e)},login:j,logout:function(){i(!1),r({}),I.a.remove("token"),I.a.remove("actions"),I.a.remove("username")}};return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(L.Provider,{value:b,children:e.children})})}var E=n(18);function B(e){var t=Object(c.useContext)(L);return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(E.a,{condition:t.loggedIn&&t.can(e.action),children:e.children})})}function J(e){console.log("show  ",e.show);var t=[];return t=e.show?Object(b.a)(e.spacificItem):e.spacificItem.filter((function(e){return 0==e.complete})),Object(x.jsx)(x.Fragment,{children:t.map((function(t){return Object(x.jsxs)(C.b,{interactive:!0,class:"bp4-elevation-4",children:[Object(x.jsx)("p",{children:t.text}),Object(x.jsx)("p",{children:Object(x.jsxs)("small",{children:["Assigned to: ",t.assignee]})}),Object(x.jsx)("p",{children:Object(x.jsxs)("small",{children:["Difficulty: ",t.difficulty]})}),Object(x.jsx)(B,{action:"update",children:Object(x.jsxs)("div",{onClick:function(){return e.toggleComplete(t.id)},children:["Complete: ",t.complete.toString()]})}),Object(x.jsx)(B,{action:"delete",children:Object(x.jsx)("button",{onClick:e.deleteItem,children:"Delete"})})]},t.id)}))})}n(390);function M(){var e=Object(c.useContext)(m),t=Object(c.useContext)(L);return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(E.a,{condition:t.loggedIn,children:Object(x.jsxs)("form",{class:"bp4-form-group .modifier",className:"f",onSubmit:function(t){t.preventDefault(),e.setShowCompleted(t.target.show.checked),e.setCount(t.target.page.value),f("input",{count:t.target.page.value,show:t.target.show.checked})},children:[Object(x.jsx)("label",{children:"Count"}),Object(x.jsx)("input",{name:"page",type:"text",placeholder:"Items per page"}),Object(x.jsx)("label",{children:"Show Completed item"}),Object(x.jsxs)("label",{class:"bp4-control bp4-switch .modifier",children:[Object(x.jsx)("input",{name:"show",type:"checkbox"}),Object(x.jsx)("span",{class:"bp4-control-indicator"}),"Show"]}),Object(x.jsx)("input",{type:"submit"})]})})})}var q=function(){var e=Object(c.useContext)(m),t=Object(c.useContext)(L);console.log({settingContext:m});var n=Object(c.useState)({difficulty:4}),o=Object(d.a)(n,1)[0],i=Object(c.useState)([]),a=Object(d.a)(i,2),s=a[0],l=a[1],r=Object(c.useState)(0),j=Object(d.a)(r,2),u=j[0],O=j[1],h=Object(c.useState)([]),g=Object(d.a)(h,2),S=g[0],k=g[1],y=p((function(t){t.id=Object(v.a)(),t.complete=!1,console.log(t),l([].concat(Object(b.a)(s),[t])),f("list",s),0==u&&T.length<=e.count-1&&A([].concat(Object(b.a)(T),[t]))}),o),I=y.handleChange,w=y.handleSubmit,F=[],D=Object(c.useState)([]),N=Object(d.a)(D,2),T=N[0],A=N[1];return Object(c.useEffect)((function(){var e=s.filter((function(e){return!e.complete})).length;k(e),document.title="To Do List: ".concat(S)}),[s]),Object(c.useEffect)((function(){console.log({count:u}),f("count",u),function(t){if(t>=0&&t<Math.ceil(s.length/e.count))for(var n=u*e.count;n<=u*e.count+(e.count-1);n++)s[n]&&F.push(s[n]);A(F)}(u)}),[u]),Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(E.a,{condition:t.loggedIn,children:[Object(x.jsx)(B,{action:"read",children:Object(x.jsx)("header",{className:"title",children:Object(x.jsxs)("h1",{children:["To Do List: ",S," items pending"]})})}),Object(x.jsx)(B,{action:"create",children:Object(x.jsxs)("form",{onSubmit:w,className:"f",children:[Object(x.jsx)("h2",{children:"Add To Do Item"}),Object(x.jsxs)("label",{children:[Object(x.jsx)("span",{children:"To Do Item"}),Object(x.jsx)("input",{class:"bp4-input",onChange:I,name:"text",type:"text",placeholder:"Item Details"})]}),Object(x.jsxs)("label",{children:[Object(x.jsx)("span",{children:"Assigned To"}),Object(x.jsx)("input",{class:"bp4-input",onChange:I,name:"assignee",type:"text",placeholder:"Assignee Name"})]}),Object(x.jsxs)("label",{children:[Object(x.jsx)("span",{children:"Difficulty"}),Object(x.jsx)("input",{onChange:I,defaultValue:o.difficulty,type:"range",min:1,max:5,name:"difficulty"})]}),Object(x.jsx)("label",{children:Object(x.jsx)(C.a,{class:".bp4-minimal",type:"submit",children:"Add Item"})})]})}),Object(x.jsx)(B,{action:"read",children:Object(x.jsx)(J,{toggleComplete:function(t){console.log("function ",e.showCompleted);var n=s.map((function(e){return e.id==t&&(e.complete=!e.complete),e}));l(n)},spacificItem:T,show:e.showCompleted,deleteItem:function(e){var t=s.filter((function(t){return t.id!==e}));l(t),console.log({list:s})}})}),Object(x.jsxs)("div",{id:"next",children:[Object(x.jsx)(C.a,{class:".bp4-minimal",onClick:function(){for(var e=u-1,t=0;t<F.length;t++)F.pop();e>=0&&O(e)},children:"prev"}),Object(x.jsx)(C.a,{class:".bp4-minimal",onClick:function(){console.log("increase");for(var t=u+1,n=0;n<F.length;n++)F.pop();t<Math.ceil(s.length/e.count)&&O(t)},children:"next"})]})]})})},z=n(36);function H(){var e=Object(c.useContext)(L);return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("nav",{class:"bp4-navbar .modifier",children:[Object(x.jsx)("div",{class:"bp4-navbar-group bp4-align-left",children:Object(x.jsx)("div",{class:"bp4-navbar-heading",className:"link",children:"TO DO"})}),Object(x.jsxs)("div",{class:"bp4-navbar-group bp4-align-right",children:[Object(x.jsx)(z.b,{to:"/todo-app",className:"link",children:"Home"}),Object(x.jsx)(z.b,{to:"/userForm",className:"link",children:"Form"}),Object(x.jsx)("span",{class:"bp4-navbar-divider"}),Object(x.jsx)(E.a,{condition:e.loggedIn,children:Object(x.jsx)("button",{class:"bp4-button bp4-minimal ",className:"link",onClick:e.logout,children:"Log out"})}),Object(x.jsx)("button",{class:"bp4-button bp4-minimal bp4-icon-notifications"}),Object(x.jsx)("button",{class:"bp4-button bp4-minimal bp4-icon-cog"})]})]})})}n(391);var R=function(){return Object(x.jsx)("footer",{id:"footer",children:"\xa9 2022"})};n(392);function U(e){var t=Object(c.useContext)(L),n=Object(c.useState)(""),o=Object(d.a)(n,2),i=o[0],a=o[1],s=Object(c.useState)(),l=Object(d.a)(s,2),r=l[0],j=l[1];return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(E.a,{condition:!t.loggedIn,children:Object(x.jsx)("div",{className:"f",children:Object(x.jsxs)("form",{children:[Object(x.jsxs)("div",{className:"input-container",children:[Object(x.jsx)("label",{children:"Username "}),Object(x.jsx)("input",{type:"text",name:"uname",placeholder:"admin",required:!0,onChange:function(e){e.preventDefault(),a(e.target.value)}})]}),Object(x.jsxs)("div",{className:"input-container",children:[Object(x.jsx)("label",{children:"Password "}),Object(x.jsx)("input",{type:"text",placeholder:"123",name:"pass",required:!0,onChange:function(e){e.preventDefault(),j(e.target.value)}})]}),Object(x.jsx)("div",{className:"button-container",children:Object(x.jsx)("input",{type:"submit",onClick:function(e){e.preventDefault(),console.log(t),t.login(i,r)}})})]})})})})}var V=function(e){Object(r.a)(n,e);var t=Object(j.a)(n);function n(e){return Object(s.a)(this,n),t.call(this,e)}return Object(l.a)(n,[{key:"render",value:function(){return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(P,{children:[Object(x.jsx)(H,{}),Object(x.jsx)(U,{}),Object(x.jsx)(g,{children:Object(x.jsxs)(u.c,{children:[Object(x.jsx)(u.a,{path:"/todo-app",element:Object(x.jsx)(q,{})}),Object(x.jsx)(u.a,{path:"/userForm",element:Object(x.jsx)(M,{})})]})}),Object(x.jsx)(R,{})]})})}}]),n}(o.a.Component);V.contextType=L;var G=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,401)).then((function(t){var n=t.getCLS,c=t.getFID,o=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),c(e),o(e),i(e),a(e)}))};a.a.createRoot(document.getElementById("root")).render(Object(x.jsx)(o.a.StrictMode,{children:Object(x.jsx)(z.a,{children:Object(x.jsx)(V,{})})})),G()}},[[393,1,2]]]);
//# sourceMappingURL=main.bd6f1956.chunk.js.map