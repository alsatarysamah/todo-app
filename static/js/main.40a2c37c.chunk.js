(this["webpackJsonptodo-app"]=this["webpackJsonptodo-app"]||[]).push([[0],{241:function(e,t,n){},264:function(e,t,n){},273:function(e,t){},276:function(e,t){},287:function(e,t){},289:function(e,t){},300:function(e,t){},302:function(e,t){},330:function(e,t){},332:function(e,t){},333:function(e,t){},338:function(e,t){},340:function(e,t){},359:function(e,t){},371:function(e,t){},374:function(e,t){},391:function(e,t,n){},392:function(e,t,n){},393:function(e,t,n){"use strict";n.r(t);var c=n(0),o=n.n(c),a=n(165),s=n.n(a),i=(n(241),n(166)),r=n(167),l=n(168),u=n(175),j=n(5),b=n(47),d=n(6),p=n(61),h=n(91),f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(c.useState)({}),o=Object(d.a)(n,2),a=o[0],s=o[1],i=function(t){t.preventDefault(),e(a)},r=function(e){e.persist();var t=e.target,n=t.name,c=t.value;parseInt(c)&&(c=parseInt(c)),s((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(p.a)({},n,c))}))};return Object(c.useEffect)((function(){s(t)}),[t]),{handleChange:r,handleSubmit:i,values:a}};function O(e,t){var n=JSON.stringify(t);localStorage.setItem(e,n),console.log(n),console.log("saved")}var m=n(1),x=o.a.createContext();function g(e){var t=Object(c.useState)(2),n=Object(d.a)(t,2),o=n[0],a=n[1],s=Object(c.useState)(!0),i=Object(d.a)(s,2),r=i[0],l=i[1],u={count:o,sortField:"string",showCompleted:r,setCount:a,setShowCompleted:l,saveData:O};return Object(c.useEffect)((function(){var e=function(e){var t=localStorage.getItem(e);return JSON.parse(t)}("input");console.log({arr:e}),e&&(a(e.count),l(e.show))}),[r,o]),Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(x.Provider,{value:u,children:e.children})})}var v=n(399);function C(e){console.log("show  ",e.show);var t=[];return t=e.show?Object(b.a)(e.spacificItem):e.spacificItem.filter((function(e){return 0==e.complete})),Object(m.jsx)(m.Fragment,{children:t.map((function(t){return Object(m.jsxs)(v.b,{interactive:!0,class:"bp4-elevation-4",children:[Object(m.jsx)("p",{children:t.text}),Object(m.jsx)("p",{children:Object(m.jsxs)("small",{children:["Assigned to: ",t.assignee]})}),Object(m.jsx)("p",{children:Object(m.jsxs)("small",{children:["Difficulty: ",t.difficulty]})}),Object(m.jsxs)("div",{onClick:function(){return e.toggleComplete(t.id)},children:["Complete: ",t.complete.toString()]})]},t.id)}))})}n(264);var S=n(94),w=n(171),y=n(28),k=n.n(y),I=n(172),F=n.n(I),D=n(173),T=n.n(D),N=n(174),A=n.n(N),E=o.a.createContext();function M(e){var t=Object(c.useState)(!1),n=Object(d.a)(t,2),o=n[0],a=n[1],s=Object(c.useState)({}),i=Object(d.a)(s,2),r=i[0],l=i[1],u=function(){var e=Object(w.a)(Object(S.a)().mark((function e(t,n){var c;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.post("https://ms-book-shop.herokuapp.com/signin").set("authorization","Basic ".concat(A.a.encode("".concat(t,":").concat(n))));case 2:c=e.sent,console.log(c.body),j(c.body.user);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),j=function(e){if(e.token){var t=T.a.decode(e.token);console.log("username >>>> ",t),a(!0),l(e),k.a.save("token",e.token),k.a.save("username",e.username),k.a.save("actions",e.actions),console.log({loggedIn:o})}else a(!1),l({})},b={loggedIn:o,user:r,can:function(e){var t;return null===r||void 0===r||null===(t=r.actions)||void 0===t?void 0:t.includes(e)},login:u,logout:function(){a(!1),l({}),k.a.remove("token"),k.a.remove("actions"),k.a.remove("username")}};return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(E.Provider,{value:b,children:e.children})})}var J=n(44);function L(){var e=Object(c.useContext)(x),t=Object(c.useContext)(E);return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(J.a,{condition:t.loggedIn,children:Object(m.jsxs)("form",{class:"bp4-form-group .modifier",className:"f",onSubmit:function(t){t.preventDefault(),e.setShowCompleted(t.target.show.checked),e.setCount(t.target.page.value),O("input",{count:t.target.page.value,show:t.target.show.checked})},children:[Object(m.jsx)("label",{children:"Count"}),Object(m.jsx)("input",{name:"page",type:"text",placeholder:"Items per page"}),Object(m.jsx)("label",{children:"Show Completed item"}),Object(m.jsxs)("label",{class:"bp4-control bp4-switch .modifier",children:[Object(m.jsx)("input",{name:"show",type:"checkbox"}),Object(m.jsx)("span",{class:"bp4-control-indicator"}),"Show"]}),Object(m.jsx)("input",{type:"submit"})]})})})}var P=function(){var e=Object(c.useContext)(x),t=Object(c.useState)({difficulty:4}),n=Object(d.a)(t,1)[0],o=Object(c.useState)([]),a=Object(d.a)(o,2),s=a[0],i=a[1],r=Object(c.useState)(0),l=Object(d.a)(r,2),u=l[0],j=l[1],p=Object(c.useState)([]),h=Object(d.a)(p,2),O=h[0],g=h[1],S=f((function(t){t.id=function(e,t){return Math.floor(Math.random()*(t-e))+e}(0,100),t.complete=!1,console.log(t),i([].concat(Object(b.a)(s),[t])),0==u&&D.length<=e.count-1&&T([].concat(Object(b.a)(D),[t]))}),n),w=S.handleChange,y=S.handleSubmit,k=[],I=Object(c.useState)([]),F=Object(d.a)(I,2),D=F[0],T=F[1];return Object(c.useEffect)((function(){var e=s.filter((function(e){return!e.complete})).length;g(e),document.title="To Do List: ".concat(O)}),[s]),Object(c.useEffect)((function(){!function(t){if(t>=0&&t<Math.ceil(s.length/e.count))for(var n=u*e.count;n<=u*e.count+(e.count-1);n++)s[n]&&k.push(s[n]);T(k)}(u)}),[u]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("header",{className:"title",children:Object(m.jsxs)("h1",{children:["To Do List: ",O," items pending"]})}),Object(m.jsxs)("form",{onSubmit:y,className:"f",children:[Object(m.jsx)("h2",{children:"Add To Do Item"}),Object(m.jsxs)("label",{children:[Object(m.jsx)("span",{children:"To Do Item"}),Object(m.jsx)("input",{class:"bp4-input",onChange:w,name:"text",type:"text",placeholder:"Item Details"})]}),Object(m.jsxs)("label",{children:[Object(m.jsx)("span",{children:"Assigned To"}),Object(m.jsx)("input",{class:"bp4-input",onChange:w,name:"assignee",type:"text",placeholder:"Assignee Name"})]}),Object(m.jsxs)("label",{children:[Object(m.jsx)("span",{children:"Difficulty"}),Object(m.jsx)("input",{onChange:w,defaultValue:n.difficulty,type:"range",min:1,max:5,name:"difficulty"})]}),Object(m.jsx)("label",{children:Object(m.jsx)(v.a,{class:".bp4-minimal",type:"submit",children:"Add Item"})})]}),Object(m.jsx)(C,{toggleComplete:function(t){console.log("function ",e.showCompleted);var n=s.map((function(e){return e.id==t&&(e.complete=!e.complete),e}));i(n)},spacificItem:D,show:e.showCompleted}),Object(m.jsxs)("div",{id:"next",children:[Object(m.jsx)(v.a,{class:".bp4-minimal",onClick:function(){for(var e=u-1,t=0;t<k.length;t++)k.pop();e>=0&&j(e)},children:"prev"}),Object(m.jsx)(v.a,{class:".bp4-minimal",onClick:function(){for(var t=u+1,n=0;n<k.length;n++)k.pop();t<Math.ceil(s.length/e.count)&&j(t)},children:"next"})]})]})},B=n(45);function z(){return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("nav",{class:"bp4-navbar .modifier",children:[Object(m.jsx)("div",{class:"bp4-navbar-group bp4-align-left",children:Object(m.jsx)("div",{class:"bp4-navbar-heading",className:"link",children:"TO DO"})}),Object(m.jsxs)("div",{class:"bp4-navbar-group bp4-align-right",children:[Object(m.jsx)(B.b,{to:"/todo-app",className:"link",children:"Home"}),Object(m.jsx)("span",{class:"bp4-navbar-divider"}),Object(m.jsx)("button",{class:"bp4-button bp4-minimal bp4-icon-user"}),Object(m.jsx)("button",{class:"bp4-button bp4-minimal bp4-icon-notifications"}),Object(m.jsx)("button",{class:"bp4-button bp4-minimal bp4-icon-cog"})]})]})})}n(391);var H=function(){return Object(m.jsx)("footer",{id:"footer",children:"\xa9 2022"})};n(392);var R=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){return Object(i.a)(this,n),t.call(this,e)}return Object(r.a)(n,[{key:"render",value:function(){return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(M,{children:[Object(m.jsx)(z,{}),Object(m.jsx)(g,{children:Object(m.jsxs)(j.c,{children:[Object(m.jsx)(j.a,{path:"/todo-app",element:Object(m.jsx)(P,{})}),Object(m.jsx)(j.a,{path:"/userForm",element:Object(m.jsx)(L,{})})]})}),Object(m.jsx)(H,{})]})})}}]),n}(o.a.Component);R.contextType=E;var V=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,400)).then((function(t){var n=t.getCLS,c=t.getFID,o=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),o(e),a(e),s(e)}))};s.a.createRoot(document.getElementById("root")).render(Object(m.jsx)(o.a.StrictMode,{children:Object(m.jsx)(B.a,{children:Object(m.jsx)(R,{})})})),V()}},[[393,1,2]]]);
//# sourceMappingURL=main.40a2c37c.chunk.js.map